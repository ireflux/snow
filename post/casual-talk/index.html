<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。
"><title>杂谈</title><link rel=canonical href=https://ireflux.github.io/snow/post/casual-talk/><link rel=stylesheet href=/snow/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="杂谈"><meta property="og:description" content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。
"><meta property="og:url" content="https://ireflux.github.io/snow/post/casual-talk/"><meta property="og:site_name" content="sherry's blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2019-04-17T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-02T00:00:00+00:00"><meta name=twitter:title content="杂谈"><meta name=twitter:description content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。
"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/snow><img src=/snow/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/snow>sherry's blog</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/snow/><span>Home</span></a></li><li><a href=/snow/post/><span>Archives</span></a></li><li><a href=/snow/tags/><span>Tags</span></a></li><li><a href=/snow/categories/><span>Categories</span></a></li><li><a href=/snow/about/><span>About</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/snow/categories/%E9%9A%8F%E7%AC%94/>随笔</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/snow/post/casual-talk/>杂谈</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Apr 17, 2019</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>1 minute read</time></div></footer></div></header><section class=article-content><p>近日全面将Shadowsockes向v2ray切换，原本Arch上用着 <code>sslocal -c /path/filename.config</code> 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。</p><p>v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 <code>inbounds</code> 和 <code>outbounds</code> 的配置，一般来说v2ray官网的 <code>新手上路</code> 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。</p><p>linux上客户端的使用最简单的方式就是找一些配置文件改改来用。例如：可以在线生成配置文件的<a class=link href=https://www.veekxt.com/utils/v2ray_gen target=_blank rel=noopener>配置文件生成器</a>;再比如 V2Ray 配置文件模板收集仓库 <a class=link href=https://github.com/KiriKira/vTemplate target=_blank rel=noopener>Github</a>;还可以直接导入到Windows GUI程序中，然后再导出配置文件来用。</p><hr><p>前几天python连接docker中的redis的时候发现总是出现 <code>Connection refused</code> ，刚开始还以为docker网络的配置原因，后来才发现原来是redis配置文件的缘故。将 <code>bind 127.0.0.1</code> 着一条注释掉就好了 Hmmm</p><hr><p>今天照例滚系统，在安装Wps office的时候yaourt提示 <code>No space left on device</code>，看了一下，原来是/tmp空间不够。搜寻了一圈之后发现两个解决方案：</p><ol><li>mount -o remount,size=5G /tmp/</li><li>umount /tmp && mount -t tmpfs -o size=1048576,mode=1777 overflow /tmp</li></ol><p>第一种要比第二种简洁很多，不过第二种的 <code>mode=1777</code> 没看懂是什么意思，随后去查了man page，以下引用自man page：</p><blockquote><p>Set the mode of all files to value & 0777 disregarding the original permissions. Add search permission to directories that have read permission. The value is given in octal.</p></blockquote><p>大概就是类似于 <code>chmod</code> ，至于为什么会是 <code>1777</code> ，以下引用 <a class=link href=https://en.wikipedia.org/wiki/Sticky_bit target=_blank rel=noopener>wikipedia</a>:</p><blockquote><p>When a directory&rsquo;s sticky bit is set, the filesystem treats the files in such directories in a special way so only the file&rsquo;s owner, the directory&rsquo;s owner, or root user can rename or delete the file. Without the sticky bit set, any user with write and execute permissions for the directory can rename or delete contained files, regardless of the file&rsquo;s owner. Typically this is set on the /tmp directory to prevent ordinary users from deleting or moving other users&rsquo; files.</p></blockquote><p>大致意思就是说一旦设置了 <code>sticky bit</code> ，只有目录/文件的所有者或者root账户才能对文件进行写操作，其他的用户即使获得了对这个目录写操作权限，也无法对其进行写操作。</p><p>之后又去 archlinux wiki 上看了看，发现yaourt开发者在2018年11月10号的一条<a class=link href=https://github.com/archlinuxfr/yaourt/issues/382#issuecomment-437461631 target=_blank rel=noopener>issue</a>中表示无意再继续维护yaourt了，之后2018年11月30号被aur helper页面标记为停更，2019年3月25号从aur help中被移除。</p><p>看了看发现大家比较推荐yay，自己 <code>makepkg -si</code> 的话确实会麻烦一点，想了一下还是换成了yay。archlinuxcn源也能解决不少aur里的东西，于是再次添加上了archlinuxcn源。</p><p>不得不说 wps for linux 新版本UI变漂亮了好多。</p><p>嗯，真香。</p><h2 id=参考资料>参考资料</h2><ol><li><a class=link href=https://www.v2ray.com/ target=_blank rel=noopener>Project V</a></li><li><a class=link href=https://en.wikipedia.org/wiki/Sticky_bit target=_blank rel=noopener>Sticky_bit</a></li><li><a class=link href=https://wiki.archlinux.org/index.php/AUR_helpers target=_blank rel=noopener>aur helper</a></li></ol></section><footer class=article-footer><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>Last updated on May 02, 2019 00:00 UTC</span></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2023 sherry's blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/snow/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>