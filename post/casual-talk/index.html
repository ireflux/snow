<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>杂谈 - sherry's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="sherry"><meta name=description content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。
"><meta name=keywords content="Hugo,theme,even"><meta name=generator content="Hugo 0.83.1 with theme even"><link rel=canonical href=https://ireflux.github.io/snow/post/casual-talk/><link rel=apple-touch-icon sizes=180x180 href=/snow/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/snow/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/snow/favicon-16x16.png><link rel=manifest href=/snow/manifest.json><link rel=mask-icon href=/snow/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link href=/snow/sass/main.min.c7bc1becf36bcf6a9ebd25d2947e43a2eb745ddb0c9a32b43126fd7fa460c351.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="杂谈"><meta property="og:description" content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。"><meta property="og:type" content="article"><meta property="og:url" content="https://ireflux.github.io/snow/post/casual-talk/"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-04-17T00:00:00+00:00"><meta property="article:modified_time" content="2019-05-02T00:00:00+00:00"><meta itemprop=name content="杂谈"><meta itemprop=description content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。"><meta itemprop=datePublished content="2019-04-17T00:00:00+00:00"><meta itemprop=dateModified content="2019-05-02T00:00:00+00:00"><meta itemprop=wordCount content="1006"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="杂谈"><meta name=twitter:description content="近日全面将Shadowsockes向v2ray切换，原本Arch上用着 sslocal -c /path/filename.config 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。
v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 inbounds 和 outbounds 的配置，一般来说v2ray官网的 新手上路 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/snow/ class=logo>sherry's blog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/snow/><li class=mobile-menu-item>Home</li></a><a href=/snow/post/><li class=mobile-menu-item>Archives</li></a><a href=/snow/tags/><li class=mobile-menu-item>Tags</li></a><a href=/snow/categories/><li class=mobile-menu-item>Categories</li></a><a href=/snow/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/snow/ class=logo>sherry's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/snow/>Home</a></li><li class=menu-item><a class=menu-item-link href=/snow/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/snow/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/snow/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/snow/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>杂谈</h1><div class=post-meta><span class=post-time>2019-04-17</span><div class=post-category><a href=/snow/categories/%E9%9A%8F%E7%AC%94/>随笔</a></div><span class=more-meta>1006 words</span>
<span class=more-meta>3 mins read</span>
<span id=busuanzi_container_page_pv class=more-meta><span id=busuanzi_value_page_pv><img src=/snow/img/spinner.svg alt=spinner.svg></span> times read</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#参考资料>参考资料</a></li></ul></li></ul></nav></div></div><div class=post-content><p>近日全面将Shadowsockes向v2ray切换，原本Arch上用着 <code>sslocal -c /path/filename.config</code> 还挺舒服的，配置文件看起来也比v2ray要简单得多，无奈Shadowsocks最近表现的一直不大稳定，总是被封IP。</p><p>v2ray的服务端和客户端是同一套程序，配置成服务端还是客户端取决于配置文件中 <code>inbounds</code> 和 <code>outbounds</code> 的配置，一般来说v2ray官网的 <code>新手上路</code> 中的配置已经足够日常使用。但是为了稳妥起见，还是要进行进一步配置。例如采用websocket+TLS+Web这种方案。</p><p>linux上客户端的使用最简单的方式就是找一些配置文件改改来用。例如：可以在线生成配置文件的<a href=https://www.veekxt.com/utils/v2ray_gen>配置文件生成器</a>;再比如 V2Ray 配置文件模板收集仓库 <a href=https://github.com/KiriKira/vTemplate>Github</a>;还可以直接导入到Windows GUI程序中，然后再导出配置文件来用。</p><hr><p>前几天python连接docker中的redis的时候发现总是出现 <code>Connection refused</code> ，刚开始还以为docker网络的配置原因，后来才发现原来是redis配置文件的缘故。将 <code>bind 127.0.0.1</code> 着一条注释掉就好了 Hmmm</p><hr><p>今天照例滚系统，在安装Wps office的时候yaourt提示 <code>No space left on device</code>，看了一下，原来是/tmp空间不够。搜寻了一圈之后发现两个解决方案：</p><ol><li>mount -o remount,size=5G /tmp/</li><li>umount /tmp && mount -t tmpfs -o size=1048576,mode=1777 overflow /tmp</li></ol><p>第一种要比第二种简洁很多，不过第二种的 <code>mode=1777</code> 没看懂是什么意思，随后去查了man page，以下引用自man page：</p><blockquote><p>Set the mode of all files to value & 0777 disregarding the original permissions. Add search permission to directories that have read permission. The value is given in octal.</p></blockquote><p>大概就是类似于 <code>chmod</code> ，至于为什么会是 <code>1777</code> ，以下引用 <a href=https://en.wikipedia.org/wiki/Sticky_bit>wikipedia</a>:</p><blockquote><p>When a directory&rsquo;s sticky bit is set, the filesystem treats the files in such directories in a special way so only the file&rsquo;s owner, the directory&rsquo;s owner, or root user can rename or delete the file. Without the sticky bit set, any user with write and execute permissions for the directory can rename or delete contained files, regardless of the file&rsquo;s owner. Typically this is set on the /tmp directory to prevent ordinary users from deleting or moving other users' files.</p></blockquote><p>大致意思就是说一旦设置了 <code>sticky bit</code> ，只有目录/文件的所有者或者root账户才能对文件进行写操作，其他的用户即使获得了对这个目录写操作权限，也无法对其进行写操作。</p><p>之后又去 archlinux wiki 上看了看，发现yaourt开发者在2018年11月10号的一条<a href=https://github.com/archlinuxfr/yaourt/issues/382#issuecomment-437461631>issue</a>中表示无意再继续维护yaourt了，之后2018年11月30号被aur helper页面标记为停更，2019年3月25号从aur help中被移除。</p><p>看了看发现大家比较推荐yay，自己 <code>makepkg -si</code> 的话确实会麻烦一点，想了一下还是换成了yay。archlinuxcn源也能解决不少aur里的东西，于是再次添加上了archlinuxcn源。</p><p>不得不说 wps for linux 新版本UI变漂亮了好多。</p><p>嗯，真香。</p><h2 id=参考资料>参考资料</h2><ol><li><a href=https://www.v2ray.com/>Project V</a></li><li><a href=https://en.wikipedia.org/wiki/Sticky_bit>Sticky_bit</a></li><li><a href=https://wiki.archlinux.org/index.php/AUR_helpers>aur helper</a></li></ol></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>sherry</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2019-05-02</span></p></div><footer class=post-footer><nav class=post-nav><a class=prev href=/snow/post/blog-migration-record/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">博客迁移记录</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/snow/post/avl-tree-study-note/><span class="next-text nav-default">AVL tree 学习笔记</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'9IWxYbJOcszqHGlQ12CUsxH3-gzGzoHsz',appKey:'s9mFa6SokCKP5xh5pJlTiXHv',notify:!1,verify:!1,avatar:'mm',placeholder:'说点什么吧...',visitor:!1})</script></div></main><footer id=footer class=footer><div class=social-links><a href=https://github.com/ireflux class="iconfont icon-github" title=github></a><a href=https://www.weibo.com/3932084845 class="iconfont icon-weibo" title=weibo></a><a href=http://space.bilibili.com/13546666 class="iconfont icon-bilibili" title=bilibili></a><a href=https://ireflux.github.io/snow/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/snow/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/snow/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2015 -
2021<span class=heart><i class="iconfont icon-heart"></i></span><span>sherry</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/snow/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script></body></html>