<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="前几天看了霍矩大佬做的一期关于 Clubhouse 视频，其中提到了 IRC 这种古老的通信协议。其中有一段叙述很有意思，大意是说如今 IRC 服务器这种带有很强匿名性质的聊天室，由于界面或操作还停留在上世纪，是天然的过滤屏障，人少反而提供了优质的社区交流氛围。但同时也不容易打击盗版，用户通过各种代理、中继连上来，很难去追溯，再加上现如今用户较少，规模不复往昔，因此可能也失去了打击的价值。种种技术和非技术的因素，造就了这样的一个强匿名、低审查、较为自由的一个“避难所”。用视频中的话说：“互联网上，没人知道你是一条狗”。
而这也正是吸引人的地方 :)
从 arch wiki 中可以找到一些主流的支持 IRC 协议的软件。根据下面的图表对比，WeeChat 相比于其他软件来说更强大，扩展性更好，最有优势。
"><title>WeeChat 不完全使用指南</title><link rel=canonical href=https://ireflux.github.io/snow/post/weechat-guide/><link rel=stylesheet href=/snow/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="WeeChat 不完全使用指南"><meta property="og:description" content="前几天看了霍矩大佬做的一期关于 Clubhouse 视频，其中提到了 IRC 这种古老的通信协议。其中有一段叙述很有意思，大意是说如今 IRC 服务器这种带有很强匿名性质的聊天室，由于界面或操作还停留在上世纪，是天然的过滤屏障，人少反而提供了优质的社区交流氛围。但同时也不容易打击盗版，用户通过各种代理、中继连上来，很难去追溯，再加上现如今用户较少，规模不复往昔，因此可能也失去了打击的价值。种种技术和非技术的因素，造就了这样的一个强匿名、低审查、较为自由的一个“避难所”。用视频中的话说：“互联网上，没人知道你是一条狗”。
而这也正是吸引人的地方 :)
从 arch wiki 中可以找到一些主流的支持 IRC 协议的软件。根据下面的图表对比，WeeChat 相比于其他软件来说更强大，扩展性更好，最有优势。
"><meta property="og:url" content="https://ireflux.github.io/snow/post/weechat-guide/"><meta property="og:site_name" content="sherry's blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="linux"><meta property="article:tag" content="WeeChat"><meta property="article:published_time" content="2021-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2021-02-23T00:00:00+00:00"><meta name=twitter:title content="WeeChat 不完全使用指南"><meta name=twitter:description content="前几天看了霍矩大佬做的一期关于 Clubhouse 视频，其中提到了 IRC 这种古老的通信协议。其中有一段叙述很有意思，大意是说如今 IRC 服务器这种带有很强匿名性质的聊天室，由于界面或操作还停留在上世纪，是天然的过滤屏障，人少反而提供了优质的社区交流氛围。但同时也不容易打击盗版，用户通过各种代理、中继连上来，很难去追溯，再加上现如今用户较少，规模不复往昔，因此可能也失去了打击的价值。种种技术和非技术的因素，造就了这样的一个强匿名、低审查、较为自由的一个“避难所”。用视频中的话说：“互联网上，没人知道你是一条狗”。
而这也正是吸引人的地方 :)
从 arch wiki 中可以找到一些主流的支持 IRC 协议的软件。根据下面的图表对比，WeeChat 相比于其他软件来说更强大，扩展性更好，最有优势。
"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/snow><img src=/snow/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/snow>sherry's blog</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/snow/><span>Home</span></a></li><li><a href=/snow/post/><span>Archives</span></a></li><li><a href=/snow/tags/><span>Tags</span></a></li><li><a href=/snow/categories/><span>Categories</span></a></li><li><a href=/snow/about/><span>About</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/snow/categories/clavicula-salomonis/>Clavicula Salomonis</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/snow/post/weechat-guide/>WeeChat 不完全使用指南</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Feb 22, 2021</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>2 minute read</time></div></footer></div></header><section class=article-content><p>前几天看了霍矩大佬做的一期关于 Clubhouse 视频，其中提到了 <a class=link href=https://en.wikipedia.org/wiki/Internet_Relay_Chat target=_blank rel=noopener>IRC</a> 这种古老的通信协议。其中有一段叙述很有意思，大意是说如今 IRC 服务器这种带有很强匿名性质的聊天室，由于界面或操作还停留在上世纪，是天然的过滤屏障，人少反而提供了优质的社区交流氛围。但同时也不容易打击盗版，用户通过各种代理、中继连上来，很难去追溯，再加上现如今用户较少，规模不复往昔，因此可能也失去了打击的价值。种种技术和非技术的因素，造就了这样的一个强匿名、低审查、较为自由的一个“避难所”。用视频中的话说：“互联网上，没人知道你是一条狗”。</p><p>而这也正是吸引人的地方 :)</p><p>从 <a class=link href=https://wiki.archlinux.org/index.php/List_of_applications/Internet#IRC_clients target=_blank rel=noopener>arch wiki</a> 中可以找到一些主流的支持 IRC 协议的软件。根据下面的图表对比，<a class=link href=https://WeeChat.org/ target=_blank rel=noopener>WeeChat</a> 相比于其他软件来说更强大，扩展性更好，最有优势。</p><p>下图表搬运自 arch wiki：</p><div class=table-wrapper><table><thead><tr><th style=text-align:center>Name</th><th style=text-align:center>Package</th><th style=text-align:center>Written in</th><th style=text-align:center>Extensible</th><th style=text-align:center><a class=link href=https://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer target=_blank rel=noopener>SASL</a></th></tr></thead><tbody><tr><td style=text-align:center>BitchX</td><td style=text-align:center>bitchx-git</td><td style=text-align:center>C</td><td style=text-align:center>?</td><td style=text-align:center>?</td></tr><tr><td style=text-align:center>ERC</td><td style=text-align:center>emacs</td><td style=text-align:center>ELisp</td><td style=text-align:center>in ELisp</td><td style=text-align:center>via script</td></tr><tr><td style=text-align:center>ii</td><td style=text-align:center>iiAUR</td><td style=text-align:center>C</td><td style=text-align:center>stdin/stdout</td><td style=text-align:center>No</td></tr><tr><td style=text-align:center>Irssi</td><td style=text-align:center>irssi</td><td style=text-align:center>C</td><td style=text-align:center>in Perl</td><td style=text-align:center>Yes</td></tr><tr><td style=text-align:center>pork</td><td style=text-align:center>pork</td><td style=text-align:center>C</td><td style=text-align:center>in Perl</td><td style=text-align:center>No</td></tr><tr><td style=text-align:center>ScrollZ</td><td style=text-align:center>scrollz</td><td style=text-align:center>C</td><td style=text-align:center>?</td><td style=text-align:center>No</td></tr><tr><td style=text-align:center>sic</td><td style=text-align:center>sicAUR</td><td style=text-align:center>C</td><td style=text-align:center>stdin/stdout</td><td style=text-align:center>No</td></tr><tr><td style=text-align:center>tiny</td><td style=text-align:center>tiny-irc-client-git</td><td style=text-align:center>Rust</td><td style=text-align:center>No</td><td style=text-align:center>Yes</td></tr><tr><td style=text-align:center>WeeChat</td><td style=text-align:center>WeeChat</td><td style=text-align:center>C</td><td style=text-align:center>multiple languages</td><td style=text-align:center>Yes</td></tr></tbody></table></div><h3 id=启动-weechat>启动 WeeChat</h3><p>只需在终端中输入以下命令，回车即可：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ WeeChat
</span></span></code></pre></div><p>如果你发现启动后出现了一些诸如 <code>Errors loading plugins</code> 之类的错误，是因为 WeeChat 启动时会默认加载这些插件，而你并未安装这些插件所需运行时所致。</p><p>如果想要消除这些错误信息，可以使用以下两种方法：</p><ol><li>安装 lua, ruby, aspell，tcl 等软件</li><li>在 WeeChat 终端执行 <code>/set WeeChat.plugin.autoload "*,!ruby,!lua,!aspell,!tcl"</code> 就会在启动时阻止这些插件运行</li></ol><p>WeeChat 本身是有一些界面交互命令，如 <code>version</code>，<code>uptime</code>，<code>print</code> 之类，如果没有插件，WeeChat 本身没什么用，什么都做不了。WeeChat 对 IRC 的支持也是通过插件来实现的，只不过 IRC 插件是默认内置的，如果想知道都加载了哪些插件，可以通过 <code>/plugin</code> 来查看。还可以在 <a class=link href=https://WeeChat.org/scripts/ target=_blank rel=noopener>插件库</a> 安装脚本插件。</p><h3 id=在线手册>在线手册</h3><p>所有的命令都可以通过在 WeeChat 中输入 <code>/help</code> 来查询，如果想看某个命令的功能描述和用法，比如 <code>server</code>，可以像这样：</p><pre tabindex=0><code>/help server
</code></pre><p>还可以查看某个配置项的描述和用法，比如 <code>irc.server.freenode.autojoin</code>：</p><pre tabindex=0><code>/help irc.server.freenode.autojoin
</code></pre><h3 id=设置选项>设置选项</h3><p>在 WeeChat 中查看所有的选项，使用 <code>/set</code> 命令，现在输入 <code>/set</code> 实际上是插件提供的指令 <code>/fset</code> 的 alias，还可以通过模糊匹配：</p><pre tabindex=0><code>/fset WeeChat.*
</code></pre><p>可以通过如下命令来修改选项的值，例如：</p><pre tabindex=0><code>/set irc.server.freenode.username &#34;sherry&#34;
</code></pre><p>修改后无需重启，WeeChat 会自动更新，或者使用 <code>/save</code> 强制保存修改后的值。不建议手动编辑配置文件来修改，因为 WeeChat 可能会随时写入信息。</p><h3 id=添加服务器>添加服务器</h3><p>以当前最大的节点 <code>chat.freenode.net</code> 为例，端口号为 6665-6667 和 8000-8002 用于纯文本连接，端口 6697, 7000 和 7070 为 TLS 加密连接。</p><p>不加密的那种我在国内尝试了下连不上，使用了加密连接才连上，写法如下，其中 <code>freenode</code> 是昵称：</p><pre tabindex=0><code>/server add freenode chat.freenode.net/6697 -ssl
</code></pre><p>进去之后会发现自己的用户名旁边有个(+iZ)，这个代表用户模式，<code>i</code> 代表隐形，<code>Z</code> 是通过加密连接到服务器的用户，会自动获得这个网络状态，更多用户模式可以通过 <code>/help mode</code> 查看，或者浏览官方 Wiki <a class=link href=https://freenode.net/kb/answer/usermodes target=_blank rel=noopener>User Mode</a></p><h3 id=自定义-irc-服务器选项>自定义 IRC 服务器选项</h3><p>如果您未为服务器选项指定特定值，则 WeeChat 会为所有服务器使用默认值。这些默认选项是 <code>irc.server_default.*</code>，因此对于每个服务器都可以单独设置参数。</p><p>默认情况下，昵称会和 un*x 的登陆用户名称相同，还可以修改昵称：</p><pre tabindex=0><code>/set irc.server.freenode.nicks &#34;sherry&#34;
</code></pre><p>设置用户名和真实姓名：</p><pre tabindex=0><code>/set irc.server.freenode.username &#34;My user name&#34;
/set irc.server.freenode.realname &#34;My real name&#34;
</code></pre><p>启动时自动连接服务器：</p><pre tabindex=0><code>/set irc.server.freenode.autoconnect on
</code></pre><p>使用 SSL 加密连接：</p><pre tabindex=0><code>/set irc.server.freenode.addresses &#34;chat.freenode.net/7000&#34;
/set irc.server.freenode.ssl on
</code></pre><p>如果服务器上有 <a class=link href=https://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer target=_blank rel=noopener>SASL</a>，可以将其用于身份验证：</p><pre tabindex=0><code>/set irc.server.freenode.sasl_username &#34;mynick&#34;
/set irc.server.freenode.sasl_password &#34;xxxxxxx&#34;
</code></pre><p>连接到服务器时自动加入频道：</p><pre tabindex=0><code>/set irc.server.freenode.autojoin &#34;#channel1,#channel2&#34;
</code></pre><p>重置所设置的选项：</p><pre tabindex=0><code>/unset irc.server.freenode.nicks
</code></pre><p>设置其他选项（xxx为输入一个不存在的选项名）：</p><pre tabindex=0><code>/set irc.server.freenode.xxx value
</code></pre><h3 id=连接到-irc-服务器>连接到 IRC 服务器</h3><pre tabindex=0><code>/connect freenode
</code></pre><h3 id=加入离开-irc-频道>加入/离开 IRC 频道</h3><p>查询频道：</p><pre tabindex=0><code>/list #channel
</code></pre><p>加入频道：</p><pre tabindex=0><code>/join #channel
</code></pre><p>离开频道（界面不会关闭）：</p><pre tabindex=0><code>/part [离开时的信息]]
</code></pre><p>关闭服务器/频道/私聊（同时界面也会关闭，<code>/close</code> 是 <code>/buffer close</code> 的 alias）：</p><pre tabindex=0><code>/close
</code></pre><p>断开与服务器的连接：</p><pre tabindex=0><code>/disconnect
</code></pre><h2 id=后记>后记</h2><p>除了以上的一些基本用法，还有 <a class=link href=https://weechat.org/files/doc/stable/weechat_user.en.html#irc_ssl_certificates target=_blank rel=noopener>SASL 认证</a> 以及 <a class=link href=https://freenode.net/kb/answer/sasl target=_blank rel=noopener>使用 SASL 连接</a>、通过 <a class=link href=https://weechat.org/files/doc/stable/weechat_user.en.html#irc_tor_freenode target=_blank rel=noopener>Tor 连接 Freenode</a> 等用法。此外，一些 WeeChat 软件的方面的问题，可以看这个 <a class=link href=https://weechat.org/files/doc/stable/weechat_faq.en.html target=_blank rel=noopener>FAQ</a></p><p>一些常用的 IRC 站点：</p><ol><li><a class=link href=https://freenode.net target=_blank rel=noopener>https://freenode.net</a></li><li><a class=link href=https://www.dal.net/servers target=_blank rel=noopener>https://www.dal.net/servers</a></li><li><a class=link href=https://www.undernet.org target=_blank rel=noopener>https://www.undernet.org</a></li></ol><h2 id=参考资料>参考资料</h2><ol><li><a class=link href=https://weechat.org/doc/ target=_blank rel=noopener>WeeChat Docs</a></li><li><a class=link href=https://freenode.net/kb/all target=_blank rel=noopener>Freenode Knowledge Base</a></li><li><a class=link href=https://wiki.archlinux.org/index.php/List_of_applications/Internet#IRC_clients target=_blank rel=noopener>Arch Wiki IRC_clients</a></li><li><a class=link href=https://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer target=_blank rel=noopener>Wikipedia SASL</a></li></ol></section><footer class=article-footer><section class=article-tags><a href=/snow/tags/linux/>Linux</a>
<a href=/snow/tags/weechat/>WeeChat</a></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><span>Last updated on Feb 23, 2021 00:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/snow/post/netcat-note/><div class=article-details><h2 class=article-title>netcat 的使用笔记</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 sherry's blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/snow/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>